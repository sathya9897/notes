# MONGODB BASICS

- MongoDB store data in BSON format which is less space consuming, efficient, and allows more data types.
- data can be imported and exported in JSON and BSON formats.
  - `mongoexport` can be used for exporting data in JSON format. `mongoexport --uri ""`
  - `mongodump` can be used for exporting data in BSON format. `mongodump --uri "" --collection "" --out "filname.json"`
  - `mongorestore` can be used for importing data in BSON format. `mongorestore --uri "" --dump dump`, here dump is the dump generated by mongodump.
  - `mongoimport` can be used for importing data in JSON format. `mongoimport --uri "" --drop filename.json`
- `it` can be used to iterate over the cursor to view more documents in the result that match the query.
- `insert([{}, {}])` by default it inserts the documents in the given order. If anyone of them causes error the following documents will be not inserted as well.
- `insert([ {}, {} ], {ordered: false})` this will insert all the documents except the one's that are causing any insertion errors.
- `deleteOne(), updateOne()` should be used only used with `_id` as query parameter because we can't rely on them to return the same document everytime if multiple items match the query. It is a good practice to use `_id` and if need be these can be used without `_id` as well if it's safe to do so.
- arrays can be queried with `$all` and `$size` operator to fetch all the documents that has all of the specified elements among other elements in the array.
- `$elemMatch` can be used to find a specific field in the document or to fetch specific fields from the document using projection.
- we can use dot notation in the key to access deeply nested fields in the document.
- indexes can improve search speed dramatically and specially if we are sorting using the indexed key
- `compound index` can be used to find documents that are commonly fetched having 2 or more fields in query operation.
- always check for the fields if they exists or not in the first stage before doing calculations
- `sort` can use indexes if it is used in early stage making query faster
- `allowDiskUse` to enable using of ram more than `100mb` which is default to perform larger query
- `geoNear` can be used to find geo locations near to a point or coordinates
- `sample` can be used to fetch number of documents specified at random.
